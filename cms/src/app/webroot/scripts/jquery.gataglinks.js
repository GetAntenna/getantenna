(function(a){a.fn.gataglinks=function(f){var o="click";var m="submit";var d={mail_tracker_string:"/virtual/mailto",javascript_tracker_string:"/virtual/javascript",external_tracker_string:"/virtual/external",internal_download_tracker_string:"/virtual/internal/download",external_download_tracker_string:"/virtual/external/download",mail_form_tracker_string:"/action/mailto",external_form_tracker_string:"/action/external",subdomain_download_tracker_string:"/virtual/subdomain/download",subdomain_tracker_string:"/virtual/subdomain",subdomain_form_tracker_string:"/action/subdomain",separator:"|",source_destination:true,extensions:"doc|pdf|xls|ppt|zip|txt|vsd|vxd|rar|wma|mov|avi|wmv|mp3|xml",debug:false};if(f){a.extend(d,f)}this.each(function(){switch(this.tagName){case"A":case"AREA":if(this.protocol=="mailto:"){b(this,"mail")}else{if(this.protocol=="javascript:"){b(this,"javascript")}else{if(n(this)){b(this,"internal")}else{b(this,"external")}}}break;case"FORM":var q=this.action.toString().parse_uri();var p=window.location.toString().parse_uri();if(q.protocol=="mailto"){k(this,"mail")}else{if(q.authority!=p.authority){k(this,"external")}}break;default:}});function e(p){if(d.debug){if(window.console&&window.console.log){window.console.log("gataglinks: "+p)}}}function n(p){if((location.host==p.hostname)||(location.host==p.host)){return true}else{return false}}function b(q,p){switch(p){case"mail":if(q.addEventListener){q.addEventListener(o,function(){j(q)},true)}else{q.attachEvent("on"+o,function(){j(q)})}break;case"javascript":if(q.addEventListener){q.addEventListener(o,function(){g(q)},true)}else{q.attachEvent("on"+o,function(){g(q)})}break;case"internal":if((q.href=="")||(q.href==null)){}else{if(q.addEventListener){q.addEventListener(o,function(){i(q)},true)}else{q.attachEvent("on"+o,function(){i(q)})}}break;case"external":if((q.href=="")||(q.href==null)){}else{if(q.addEventListener){q.addEventListener(o,function(){l(q)},true)}else{q.attachEvent("on"+o,function(){l(q)})}break}}}function k(q,p){switch(p){case"mail":if(q.addEventListener){q.addEventListener(m,function(){h(q)},true)}else{q.attachEvent("on"+m,function(){h(q)})}break;case"external":if(q.addEventListener){q.addEventListener(m,function(){c(q)},true)}else{q.attachEvent("on"+m,function(){c(q)})}break}}function j(q){var r=q.href.substring(7);var p=d.mail_tracker_string+d.separator+window.location.toString().trim_slashes()+d.separator+r;e(p);if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(p)}}function g(q){var p=d.javascript_tracker_string+d.separator+window.location.toString().trim_slashes();e(p);if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(p)}}function i(r){var p=new RegExp(".("+d.extensions+"){1}$","i");if(p.test(r.pathname.toString().trim_slashes())){if(d.source_destination){var q=d.internal_download_tracker_string+d.separator+"source--"+window.location.toString().trim_slashes()+d.separator+"destination--"+r.href}else{var q=d.internal_download_tracker_string+d.separator+window.location.toString().trim_slashes()+d.separator+r.href}e(q);if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(q)}}}function l(t){var q=new RegExp(".("+d.extensions+"){1}$","i");if(q.test(t.pathname.toString().trim_slashes())){var p=d.external_download_tracker_string;if(d.domains){var s=t.href.toString().parse_uri();var q=new RegExp(".("+d.domains+"){1}$","i");if(q.test(s.domain)){p=d.subdomain_download_tracker_string}}if(d.source_destination){var r=p+d.separator+"source--"+window.location.toString().trim_slashes()+d.separator+"destination--"+t.href}else{var r=p+d.separator+window.location.toString().trim_slashes()+d.separator+t.href}}else{var p=d.external_tracker_string;if(d.domains){var s=t.href.toString().parse_uri();var q=new RegExp(".("+d.domains+"){1}$","i");if(q.test(s.domain)){p=d.subdomain_tracker_string}}if(d.source_destination){var r=p+d.separator+"source--"+window.location.toString().trim_slashes()+d.separator+"destination--"+t.href}else{var r=p+d.separator+window.location.toString().trim_slashes()+d.separator+t.href}}e(r);if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(r)}}function h(q){var r=q.action.toString().parse_uri();var p=d.mail_form_tracker_string+d.separator+window.location.toString().trim_slashes()+d.separator+r.authority;e(p);if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(p)}}function c(t){var q=d.external_form_tracker_string;if(d.domains){var s=t.action.toString().parse_uri();var p=new RegExp(".("+d.domains+"){1}$","i");if(p.test(s.domain)){q=d.subdomain_form_tracker_string}}if(d.source_destination){var r=q+d.separator+"source--"+window.location.toString().trim_slashes()+d.separator+"destination--"+t.action}else{var r=q+d.separator+window.location.toString().trim_slashes()+d.separator+t.action}e(r);if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview(r)}}};String.prototype.trim_slashes=function(){var b=this;var c=b.length;if(b.charAt((c-1))=="/"){b=b.substring(0,(c-1))}if(b.charAt(0)=="/"){b=b.substring(1,c)}return b};String.prototype.parse_uri=function(){var b=["source","protocol","authority","domain","port","path","directory_path","file_name","query","anchor"];var c=new RegExp("^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\d*))?)((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[\\?#]|$)))*/?)?([^?#/]*))?(?:\\?([^#]*))?(?:#(.*))?","i").exec(this);var e={};for(var d=0;d<10;d++){e[b[d]]=(c[d]?c[d]:"")}if(e.directory_path.length>0){e.directory_path=e.directory_path.replace(/\/?$/,"/")}return e}})(jQuery);